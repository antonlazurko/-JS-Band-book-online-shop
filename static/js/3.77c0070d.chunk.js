(this["webpackJsonpjs-band-book-online-shop"]=this["webpackJsonpjs-band-book-online-shop"]||[]).push([[3],{116:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(39);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var o=[],n=!0,r=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(o.push(c.value),!t||o.length!==t);n=!0);}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return o}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},119:function(e,t,o){e.exports={book:"BookView_book__3JZsm",bookField:"BookView_bookField__z61l7",bookDescription:"BookView_bookDescription__C8oUi",title:"BookView_title__1jA2-",cartField:"BookView_cartField__fXb2m"}},124:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return p}));var n=o(116),r=o(7),i=o.n(r),c=o(15),a=o(0),s=o(17),b=o(6),l=o(40),d=o(13),u=o(18),j=o(51),h=o(119),k=o.n(h),f=o(1),p=function(){var e=Object(s.b)(),t=Object(b.h)().bookId,o=Object(s.c)(d.d.getTokenSelector),r=Object(s.c)(d.d.getBook),h=r.cover,p=r.description,O=r.author,m=r.title,v=r.level,x=r.price,y=r.count,_=Object(s.c)(u.d.getCartInfo);Object(a.useEffect)(Object(c.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(d.b.getBookById({bookId:t,token:o}));case 2:(r=_.find((function(e){return e.bookId===t})))&&e(d.a.bookRefreshAction(r.count));case 4:case"end":return n.stop()}}),n)}))),[]);var w=Object(a.useState)(0),I=Object(n.a)(w,2),N=I[0],C=I[1];return Object(f.jsxs)("div",{className:k.a.book,children:[Object(f.jsxs)("div",{className:k.a.bookField,children:[Object(f.jsxs)("div",{className:k.a.bookDescription,children:[Object(f.jsx)("img",{src:null!==h&&void 0!==h?h:j.a,width:"200px"}),Object(f.jsx)("p",{children:p})]}),Object(f.jsxs)("div",{className:k.a.title,children:[Object(f.jsx)("h5",{children:m})," ",Object(f.jsx)("h6",{children:O}),Object(f.jsx)("p",{children:v})]})]}),Object(f.jsxs)("div",{className:k.a.cartField,children:[Object(f.jsxs)("p",{children:["Price, $ ",x]}),Object(f.jsxs)("label",{htmlFor:"bookCount",onChange:function(e){C(Number(e.target.value))},children:["Count",Object(f.jsx)("input",{step:"1",type:"number",id:"bookCount",name:"bookCount",min:"0",max:y})]}),Object(f.jsxs)("p",{children:["Total Price, $ ",(x*N).toFixed(2)]}),0===y&&Object(f.jsx)("p",{children:"Not enough books"}),Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",disabled:0===y,onClick:function(){return console.log(N),void(N?N>y?l.b.info("Sorry we have only ".concat(y," books"),{position:l.b.POSITION.TOP_CENTER}):e(u.a.addToCart({bookId:t,title:m,price:x,count:N})):l.b.info("Select the required books quantity",{position:l.b.POSITION.TOP_CENTER}))},children:"Add to cart"})]})]})}}}]);
//# sourceMappingURL=3.77c0070d.chunk.js.map