{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","views/CatalogView/CatalogView.module.css","views/CatalogView/CatalogView.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","CatalogView","dispatch","useDispatch","token","useSelector","selectors","getTokenSelector","useEffect","booksOperations","getBooks","filtredBooks","getFiltredBooks","useState","filterValue","setFilterValue","selectValue","setSelectValue","booksByPrice","setBooksByPrice","booksActions","changeFilter","filter","book","price","className","styles","filters","style","width","marginRight","type","autoComplete","placeholder","onChange","e","target","method","name","defaultValue","booksList","map","id"],"mappings":"0LAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,K,oBIJtGC,EAAOC,QAAU,CAAC,QAAU,6BAA6B,UAAY,iC,qJCmFtDC,EA5EK,WAClB,IAAMC,EAAWC,cACXC,EAAQC,YAAYC,IAAUC,kBACpCC,qBAAU,WACRN,EAASO,IAAgBC,SAASN,MACjC,IACH,IAAMO,EAAeN,YAAYC,IAAUM,iBANnB,EAOcC,mBAAS,IAPvB,mBAOjBC,EAPiB,KAOJC,EAPI,OAQcF,mBAAS,IARvB,mBAQjBG,EARiB,KAQJC,EARI,OASgBJ,mBAASF,GATzB,mBASjBO,EATiB,KASHC,EATG,KAmCxB,OAzBAX,qBAAU,WACRN,EAASkB,IAAaC,aAAaP,MAClC,CAACA,IACJN,qBAAU,WACR,OAAQQ,GACN,IAAK,GACHG,EAAgBR,GAChB,MACF,IAAK,IACHQ,EAAgBR,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,OAAS,OAC5D,MACF,IAAK,IACHL,EACER,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,MAAQ,IAAMD,EAAKC,OAAS,OAEjE,MACF,IAAK,IACHL,EAAgBR,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,MAAQ,OAC3D,MACF,QACEL,EAAgBR,MAGnB,CAACK,EAAaL,IAGf,mCACGO,GACC,qCACE,sBAAKO,UAAWC,IAAOC,QAAvB,UACE,uBACEC,MAAO,CACLC,MAAO,QACPC,YAAa,QAEfL,UAAU,cACV/B,MAAOoB,EACPiB,KAAK,OACLC,aAAa,MACbC,YAAY,SACZC,SAAU,SAACC,GAAD,OAAOpB,EAAeoB,EAAEC,OAAO1C,UAE3C,sBACE+B,UAAU,cACVY,OAAO,OACPH,SAAU,SAACC,GAAD,OAAOlB,EAAekB,EAAEC,OAAO1C,QAH3C,SAKE,yBAAQ4C,KAAK,QAAb,UACE,wBAAQC,aAAa,GAArB,mBACA,wBAAQ7C,MAAM,IAAd,4BACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,0BAIN,oBAAI+B,UAAWC,IAAOc,UAAtB,SACGtB,EAAauB,KAAI,SAAClB,GAAD,OAChB,cAAC,IAAD,CAAMA,KAAMA,GAAWA,EAAKmB","file":"static/js/5.f939d041.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"CatalogView_filters__1BK_v\",\"booksList\":\"CatalogView_booksList__3q5Ob\"};","/* eslint-disable import/no-unresolved */\nimport { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { booksOperations, booksActions, selectors } from 'redux/books';\nimport { Card } from 'components';\nimport styles from './CatalogView.module.css';\n\nconst CatalogView = () => {\n  const dispatch = useDispatch();\n  const token = useSelector(selectors.getTokenSelector);\n  useEffect(() => {\n    dispatch(booksOperations.getBooks(token));\n  }, []);\n  const filtredBooks = useSelector(selectors.getFiltredBooks);\n  const [filterValue, setFilterValue] = useState('');\n  const [selectValue, setSelectValue] = useState('');\n  const [booksByPrice, setBooksByPrice] = useState(filtredBooks);\n  useEffect(() => {\n    dispatch(booksActions.changeFilter(filterValue));\n  }, [filterValue]);\n  useEffect(() => {\n    switch (selectValue) {\n      case '':\n        setBooksByPrice(filtredBooks);\n        break;\n      case '0':\n        setBooksByPrice(filtredBooks.filter((book) => book.price <= 25));\n        break;\n      case '1':\n        setBooksByPrice(\n          filtredBooks.filter((book) => book.price > 25 && book.price <= 50),\n        );\n        break;\n      case '2':\n        setBooksByPrice(filtredBooks.filter((book) => book.price > 50));\n        break;\n      default:\n        setBooksByPrice(filtredBooks);\n        break;\n    }\n  }, [selectValue, filtredBooks]);\n\n  return (\n    <>\n      {booksByPrice && (\n        <>\n          <div className={styles.filters}>\n            <input\n              style={{\n                width: '250px',\n                marginRight: '15px',\n              }}\n              className=\"input-group\"\n              value={filterValue}\n              type=\"text\"\n              autoComplete=\"off\"\n              placeholder=\"search\"\n              onChange={(e) => setFilterValue(e.target.value)}\n            />\n            <form\n              className=\"input-group\"\n              method=\"post\"\n              onChange={(e) => setSelectValue(e.target.value)}\n            >\n              <select name=\"price\">\n                <option defaultValue=\"\">Price</option>\n                <option value=\"0\">0 &lt; price &lt; 25</option>\n                <option value=\"1\">25 &lt; price &lt; 50</option>\n                <option value=\"2\">50 &gt;</option>\n              </select>\n            </form>\n          </div>\n          <ul className={styles.booksList}>\n            {booksByPrice.map((book) => (\n              <Card book={book} key={book.id} />\n            ))}\n          </ul>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default CatalogView;\n"],"sourceRoot":""}