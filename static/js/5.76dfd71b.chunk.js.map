{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","views/CatalogView/CatalogView.module.css","views/CatalogView/CatalogView.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","priceSelectOptions","priceOption","CatalogView","dispatch","useDispatch","token","useSelector","selectors","getTokenSelector","useEffect","booksOperations","getBooks","filtredBooks","getFiltredBooks","useState","filterValue","setFilterValue","selectValue","setSelectValue","booksByPrice","setBooksByPrice","booksActions","changeFilter","filter","book","price","className","styles","filters","style","width","marginRight","type","autoComplete","placeholder","onChange","e","target","method","name","defaultValue","map","option","booksList","id"],"mappings":"0LAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,K,oBIJtGC,EAAOC,QAAU,CAAC,QAAU,6BAA6B,UAAY,iC,qJCQ/DC,EAAqB,CACzB,CAAEP,MAAO,IAAKQ,YAAa,kBAC3B,CAAER,MAAO,IAAKQ,YAAa,mBAC3B,CAAER,MAAO,IAAKQ,YAAa,SAqFdC,EAlFK,WAClB,IAAMC,EAAWC,cACXC,EAAQC,YAAYC,IAAUC,kBAGpCC,qBAAU,WACRN,EAASO,IAAgBC,SAASN,MACjC,IACH,IAAMO,EAAeN,YAAYC,IAAUM,iBARnB,EAScC,mBAAS,IATvB,mBASjBC,EATiB,KASJC,EATI,OAUcF,mBAAS,IAVvB,mBAUjBG,EAViB,KAUJC,EAVI,OAWgBJ,mBAASF,GAXzB,mBAWjBO,EAXiB,KAWHC,EAXG,KAyCxB,OA3BAX,qBAAU,WACRN,EAASkB,IAAaC,aAAaP,MAClC,CAACA,IAGJN,qBAAU,WACR,OAAQQ,GACN,IAAK,GACHG,EAAgBR,GAChB,MACF,IAAK,IACHQ,EAAgBR,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,OAAS,OAC5D,MACF,IAAK,IACHL,EACER,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,MAAQ,IAAMD,EAAKC,OAAS,OAEjE,MACF,IAAK,IACHL,EAAgBR,EAAaW,QAAO,SAACC,GAAD,OAAUA,EAAKC,MAAQ,OAC3D,MACF,QACEL,EAAgBR,MAGnB,CAACK,EAAaL,IAGf,mCACGO,GACC,qCACE,sBAAKO,UAAWC,IAAOC,QAAvB,UACE,uBACEC,MAAO,CACLC,MAAO,QACPC,YAAa,QAEfL,UAAU,cACVjC,MAAOsB,EACPiB,KAAK,OACLC,aAAa,MACbC,YAAY,SACZC,SAAU,SAACC,GAAD,OAAOpB,EAAeoB,EAAEC,OAAO5C,UAE3C,sBACEiC,UAAU,cACVY,OAAO,OACPH,SAAU,SAACC,GAAD,OAAOlB,EAAekB,EAAEC,OAAO5C,QAH3C,SAKE,yBAAQ8C,KAAK,QAAb,UACE,wBAAQC,aAAa,GAArB,mBACCxC,EAAmByC,KAAI,SAACC,GAAD,OACtB,wBAAQjD,MAAOiD,EAAOjD,MAAtB,SAA8BiD,EAAOzC,yBAK7C,oBAAIyB,UAAWC,IAAOgB,UAAtB,SACGxB,EAAasB,KAAI,SAACjB,GAAD,OAChB,cAAC,IAAD,CAAMA,KAAMA,GAAWA,EAAKoB","file":"static/js/5.76dfd71b.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"CatalogView_filters__1BK_v\",\"booksList\":\"CatalogView_booksList__3q5Ob\"};","/* eslint-disable import/no-unresolved */ /* eslint-disable no-unused-vars */\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { booksOperations, booksActions, selectors } from 'redux/books';\r\nimport { Card } from 'components';\r\nimport styles from './CatalogView.module.css';\r\n\r\nconst priceSelectOptions = [\r\n  { value: '0', priceOption: '0 < price < 25' },\r\n  { value: '1', priceOption: '25 < price < 50' },\r\n  { value: '2', priceOption: '50 >' },\r\n];\r\n\r\nconst CatalogView = () => {\r\n  const dispatch = useDispatch();\r\n  const token = useSelector(selectors.getTokenSelector);\r\n\r\n  // getting books collection from API\r\n  useEffect(() => {\r\n    dispatch(booksOperations.getBooks(token));\r\n  }, []);\r\n  const filtredBooks = useSelector(selectors.getFiltredBooks);\r\n  const [filterValue, setFilterValue] = useState('');\r\n  const [selectValue, setSelectValue] = useState('');\r\n  const [booksByPrice, setBooksByPrice] = useState(filtredBooks);\r\n\r\n  // getting filtred books by name\r\n  useEffect(() => {\r\n    dispatch(booksActions.changeFilter(filterValue));\r\n  }, [filterValue]);\r\n\r\n  // getting filtred books by price\r\n  useEffect(() => {\r\n    switch (selectValue) {\r\n      case '':\r\n        setBooksByPrice(filtredBooks);\r\n        break;\r\n      case '0':\r\n        setBooksByPrice(filtredBooks.filter((book) => book.price <= 25));\r\n        break;\r\n      case '1':\r\n        setBooksByPrice(\r\n          filtredBooks.filter((book) => book.price > 25 && book.price <= 50),\r\n        );\r\n        break;\r\n      case '2':\r\n        setBooksByPrice(filtredBooks.filter((book) => book.price > 50));\r\n        break;\r\n      default:\r\n        setBooksByPrice(filtredBooks);\r\n        break;\r\n    }\r\n  }, [selectValue, filtredBooks]);\r\n\r\n  return (\r\n    <>\r\n      {booksByPrice && (\r\n        <>\r\n          <div className={styles.filters}>\r\n            <input\r\n              style={{\r\n                width: '250px',\r\n                marginRight: '15px',\r\n              }}\r\n              className=\"input-group\"\r\n              value={filterValue}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              placeholder=\"search\"\r\n              onChange={(e) => setFilterValue(e.target.value)}\r\n            />\r\n            <form\r\n              className=\"input-group\"\r\n              method=\"post\"\r\n              onChange={(e) => setSelectValue(e.target.value)}\r\n            >\r\n              <select name=\"price\">\r\n                <option defaultValue=\"\">Price</option>\r\n                {priceSelectOptions.map((option) => (\r\n                  <option value={option.value}>{option.priceOption}</option>\r\n                ))}\r\n              </select>\r\n            </form>\r\n          </div>\r\n          <ul className={styles.booksList}>\r\n            {booksByPrice.map((book) => (\r\n              <Card book={book} key={book.id} />\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CatalogView;\r\n"],"sourceRoot":""}