{"version":3,"sources":["App.js","redux/store.js","index.js","redux/cart/cart-operations.js","redux/books/selectors.js","redux/books/books-operations.js","redux/books/books-actions.js","redux/books/books-reducers.js","redux/cart/cart-selectors.js","redux/cart/cart-actions.js","redux/cart/cart-reducers.js","services/services.js","components/AppBar/AppBar.js","components/Card/Card.js","components/Container/Container.js","components/CartModal/CartModal.js","components/AppBar/AppBar.module.css","components/CartModal/CartModal.module.css","images/cart.png","components/Card/Card.module.css"],"names":["LogInView","lazy","CatalogView","BookView","Cart","NotFoundView","App","isLoggedIn","useSelector","selectors","getIsLoggedIn","fallback","type","color","height","width","exact","path","to","autoClose","authPersistConfig","key","storage","whitelist","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","configureStore","reducer","persistReducer","booksReducers","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","purchaseOperation","createAsyncThunk","a","books","token","rejectWithValue","services","purchase","getBooksSelector","state","getFilter","filter","getTokenSelector","authorization","getFiltredBooks","createSelector","book","title","toLowerCase","includes","getBook","bookDetails","getUserName","userName","logIn","booksServices","userLogin","getBooks","getBookById","id","changeFilter","createAction","signOutAction","authInitialState","avatar","createReducer","booksActions","username","booksOperations","fulfilled","_","payload","isLoading","pending","rejected","cartOperations","error","combineReducers","cart","getCartInfo","getCartModal","cartModalReducer","addToCart","cartModalClose","cartActions","existBook","find","bookId","count","axios","defaults","baseURL","post","data","get","headers","Authorization","AppBar","dispatch","useDispatch","cartInfo","cartSelectors","className","styles","userMenu","style","marginRight","marginLeft","onClick","header","src","alt","reduce","acc","Card","history","useHistory","card","cover","author","price","push","Container","children","marginTop","CartModal","console","log","authModalBackdrop","authModal","border","map","module","exports"],"mappings":"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","file":"static/js/main.c2997c0d.chunk.js","sourcesContent":["import { Switch, Route, Redirect } from 'react-router-dom';\nimport { lazy, Suspense } from 'react';\nimport { useSelector } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer } from 'react-toastify';\n\n// eslint-disable-next-line import/no-unresolved\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { AppBar, Container } from './components';\nimport { selectors } from './redux/books';\n\nimport './App.css';\n\n// lazy import\nconst LogInView = lazy(() => import('./views/LogInView'));\nconst CatalogView = lazy(() => import('./views/CatalogView'));\nconst BookView = lazy(() => import('./views/BookView'));\nconst Cart = lazy(() => import('./views/Cart/Cart'));\nconst NotFoundView = lazy(() => import('./views/NotFoundView'));\n\nfunction App() {\n  const isLoggedIn = useSelector(selectors.getIsLoggedIn);\n\n  return (\n    <Container>\n      {isLoggedIn && <AppBar />}\n      <Suspense\n        fallback={\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        }\n      >\n        <Switch>\n          <Route exact path=\"/catalog/\">\n            {isLoggedIn ? <CatalogView /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"/catalog/:id\">\n            {isLoggedIn ? <BookView /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"/cart\">\n            {isLoggedIn ? <Cart /> : <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"/login\">\n            {!isLoggedIn ? <LogInView /> : <Redirect to=\"/catalog\" />}\n          </Route>\n          <Route>\n            <NotFoundView />\n          </Route>\n        </Switch>\n        <ToastContainer autoClose={1800} />\n      </Suspense>\n    </Container>\n  );\n}\n\nexport default App;\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport { booksReducers } from './books';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['authorization'],\n};\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst store = configureStore({\n  reducer: persistReducer(authPersistConfig, booksReducers),\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\nconst persistor = persistStore(store);\nexport default { persistor, store };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport './index.css';\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>{' '}\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\n// eslint-disable-next-line import/no-unresolved\nimport services from 'services';\n\nconst purchaseOperation = createAsyncThunk(\n  'cart/purchase',\n  async ({ books, token }, { rejectWithValue }) => {\n    try {\n      return await services.purchase(books, token);\n    } catch {\n      return rejectWithValue();\n    }\n  },\n);\nexport default { purchaseOperation };\n","import { createSelector } from 'reselect';\n\nconst getIsLoggedIn = (state) => state.authorization.isLoggedIn;\nconst getBook = (state) => state.bookDetails;\nconst getTokenSelector = (state) => state.authorization.token;\nconst getUserName = (state) => state.authorization.userName;\n\nconst getBooksSelector = (state) => state.books;\nconst getFilter = (state) => state.filter;\n\nconst getFiltredBooks = createSelector(\n  [getBooksSelector, getFilter],\n  (books, filter) =>\n    // eslint-disable-next-line implicit-arrow-linebreak\n    books.filter(\n      (book) =>\n        // eslint-disable-next-line implicit-arrow-linebreak\n        book.title.toLowerCase().includes(filter.toLowerCase()),\n      // eslint-disable-next-line function-paren-newline\n    ),\n);\n\nexport default {\n  getTokenSelector,\n  getBooksSelector,\n  getFiltredBooks,\n  getFilter,\n  getIsLoggedIn,\n  getBook,\n  getUserName,\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\n// eslint-disable-next-line import/no-unresolved\nimport booksServices from 'services';\n\nconst logIn = createAsyncThunk(\n  'auth/login',\n  async (userName, { rejectWithValue }) => {\n    try {\n      return await booksServices.userLogin(userName);\n    } catch {\n      return rejectWithValue();\n    }\n  },\n);\n\nconst getBooks = createAsyncThunk(\n  'books/getBooks',\n  async (token, { rejectWithValue }) => {\n    try {\n      return await booksServices.getBooks(token);\n    } catch {\n      return rejectWithValue();\n    }\n  },\n);\n\nconst getBookById = createAsyncThunk(\n  'books/getBookById',\n  async ({ id, token }, { rejectWithValue }) => {\n    try {\n      return await booksServices.getBookById(id, token);\n    } catch {\n      return rejectWithValue();\n    }\n  },\n);\n\nexport default { logIn, getBooks, getBookById };\n","import { createAction } from '@reduxjs/toolkit';\n\nconst changeFilter = createAction('books/changeFilter');\nconst signOutAction = createAction('books/signOut');\n\nexport default { changeFilter, signOutAction };\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n\nimport booksOperations from './books-operations';\nimport cartOperations from '../cart/cart-operations';\nimport booksActions from './books-actions';\nimport { cart } from '../cart';\n\nconst authInitialState = {\n  userName: '',\n  avatar: '',\n  token: '',\n  isLoggedIn: false,\n};\n\nconst authorization = createReducer(authInitialState, {\n  [booksActions.signOutAction]: () => ({\n    userName: authInitialState.username,\n    avatar: authInitialState.avatar,\n    token: authInitialState.token,\n    isLoggedIn: authInitialState.isLoggedIn,\n  }),\n  [booksOperations.logIn.fulfilled]: (_, { payload }) => ({\n    userName: payload.username,\n    avatar: payload.avatar,\n    token: payload.token,\n    isLoggedIn: true,\n  }),\n});\n\nconst books = createReducer([], {\n  [booksOperations.getBooks.fulfilled]: (_, { payload }) => payload,\n});\n\nconst bookDetails = createReducer(\n  {},\n  {\n    [booksOperations.getBookById.fulfilled]: (_, { payload }) => payload,\n  },\n);\n\nconst filter = createReducer('', {\n  [booksActions.changeFilter]: (_, { payload }) => payload,\n});\n\nconst isLoading = createReducer(false, {\n  [booksOperations.logIn.pending]: () => true,\n  [booksOperations.getBooks.pending]: () => true,\n  [booksOperations.getBookById.pending]: () => true,\n  [booksOperations.logIn.fulfilled]: () => false,\n  [booksOperations.getBooks.fulfilled]: () => false,\n  [booksOperations.getBookById.fulfilled]: () => false,\n  [booksOperations.logIn.rejected]: () => false,\n  [booksOperations.getBooks.rejected]: () => false,\n  [booksOperations.getBookById.rejected]: () => false,\n  [cartOperations.purchaseOperation.rejected]: () => false,\n  [cartOperations.purchaseOperation.fulfilled]: () => false,\n  [cartOperations.purchaseOperation.pending]: () => true,\n});\n\nconst error = createReducer(null, {\n  [booksOperations.logIn.rejected]: (_, { payload }) => payload,\n  [booksOperations.logIn.pending]: () => null,\n  [booksOperations.getBooks.rejected]: (_, { payload }) => payload,\n  [booksOperations.getBooks.pending]: () => null,\n  [booksOperations.getBookById.rejected]: (_, { payload }) => payload,\n  [booksOperations.getBookById.pending]: () => null,\n  [cartOperations.purchaseOperation.rejected]: (_, { payload }) => payload,\n  [cartOperations.purchaseOperation.pending]: () => null,\n});\n\nexport default combineReducers({\n  authorization,\n  books,\n  isLoading,\n  bookDetails,\n  error,\n  filter,\n  cart,\n});\n","const getCartInfo = (state) => state.cart.cart;\nconst getCartModal = (state) => state.cart.cartModalReducer;\nexport default { getCartInfo, getCartModal };\n","import { createAction } from '@reduxjs/toolkit';\n\nconst addToCart = createAction('cart/addToCart');\nconst cartModalClose = createAction('cart/cartModalClose');\n\nexport default { addToCart, cartModalClose };\n","import { createReducer } from '@reduxjs/toolkit';\nimport { combineReducers } from 'redux';\n\nimport cartActions from './cart-actions';\nimport cartOperations from './cart-operations';\n\nconst cart = createReducer([], {\n  [cartActions.addToCart]: (state, { payload }) => {\n    const existBook = state.find((book) => book.bookId === payload.bookId);\n    if (existBook) {\n      existBook.count += payload.count;\n      return state;\n    }\n    return [...state, payload];\n  },\n  [cartOperations.purchaseOperation.fulfilled]: () => [],\n});\nconst cartModalReducer = createReducer(false, {\n  [cartOperations.purchaseOperation.fulfilled]: () => true,\n  [cartActions.cartModalClose]: () => false,\n});\n// export default { cart, cartModalReducer };\nexport default combineReducers({ cart, cartModalReducer });\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://js-band-store-api.glitch.me/';\n\nconst userLogin = async (userName) => {\n  const { data } = await axios.post('signin', {\n    username: userName,\n  });\n  return data;\n};\n\nconst getBooks = async (token) => {\n  const { data } = await axios.get('books', {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  return data;\n};\n\nconst getBookById = async (id, token) => {\n  const { data } = await axios.get(`books/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  return data;\n};\n\nconst purchase = async (books, token) => {\n  const { data } = await axios.post(\n    'purchase',\n    {\n      books: [...books],\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    },\n  );\n  return data;\n};\n\nexport default {\n  getBookById,\n  getBooks,\n  userLogin,\n  purchase,\n};\n","/* eslint-disable import/no-unresolved */\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { booksActions, selectors } from 'redux/books';\nimport { cartSelectors } from 'redux/cart';\nimport cart from 'images/cart.png';\n\nimport styles from './AppBar.module.css';\n\nconst AppBar = () => {\n  const dispatch = useDispatch();\n  const userName = useSelector(selectors.getUserName);\n  const cartInfo = useSelector(cartSelectors.getCartInfo);\n  return (\n    <div>\n      <div className={styles.userMenu}>\n        <p>\n          Wellcome\n          <span\n            style={{ color: 'red', marginRight: '15px', marginLeft: '7px' }}\n          >\n            {userName}\n          </span>\n        </p>\n        <button\n          className=\"btn btn-outline-secondary\"\n          type=\"button\"\n          onClick={() => dispatch(booksActions.signOutAction())}\n        >\n          Sign out\n        </button>\n      </div>\n      <div>\n        <hr />\n        <div className={styles.header}>\n          <Link to=\"/catalog\" style={{ color: 'black' }}>\n            <h2>JS Band Store</h2>\n          </Link>\n          <Link to=\"/cart\" style={{ color: 'black' }}>\n            <img src={cart} alt=\"cart\" />\n            Cart(\n            {cartInfo.reduce((acc, book) => acc + book.count, 0)})\n          </Link>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n};\nexport default AppBar;\n","import { useHistory } from 'react-router-dom';\nimport styles from './Card.module.css';\n\nconst Card = ({ book }) => {\n  const history = useHistory();\n  return (\n    <li className={styles.card}>\n      <img src={book.cover} width=\"100%\" />\n      <h4>{book.title}</h4> <h5>{book.author}</h5>\n      <h6>{book.price}$</h6>\n      <button\n        className=\"btn btn-outline-secondary\"\n        onClick={() => {\n          history.push(`/catalog/${book.id}`);\n        }}\n      >\n        View\n      </button>\n    </li>\n  );\n};\nexport default Card;\n","const Container = ({ children }) => (\n  <div className=\"container\" style={{ marginTop: '30px' }}>\n    {children}\n  </div>\n);\nexport default Container;\n","/* eslint-disable import/no-unresolved */\nimport { useDispatch } from 'react-redux';\nimport { cartActions } from 'redux/cart';\nimport styles from './CartModal.module.css';\n\nconst CartModal = ({ cartInfo }) => {\n  console.log(cartInfo);\n\n  const dispatch = useDispatch();\n  return (\n    <div className={styles.authModalBackdrop}>\n      <div className={styles.authModal}>\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <p className=\"modal-title\">You successfully placed on order!</p>\n            </div>\n            <div className=\"modal-body\">\n              <div>\n                <table border=\"1px\" className=\"table\">\n                  <thead>\n                    <tr>\n                      <th>Name</th>\n                      <th>Count</th>\n                      <th>Price</th>\n                      <th>Total</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {cartInfo.map((book) => (\n                      <tr key={book.bookId}>\n                        <td>{book.title}</td>\n                        <td>{book.count}</td>\n                        <td>{book.price}</td>\n                        <td>{book.price * book.count}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n                <div>\n                  Total price:\n                  {cartInfo.reduce(\n                    (acc, book) => acc + book.count * book.price,\n                    0,\n                  )}\n                  $\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={() => {\n                  dispatch(cartActions.cartModalClose());\n                }}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartModal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"AppBar_userMenu__3MBGC\",\"header\":\"AppBar_header__1Xapc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authModalBackdrop\":\"CartModal_authModalBackdrop__2ZM1S\",\"authModal\":\"CartModal_authModal__qHYTX\"};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAB9ElEQVRIS8XWTahNURTA8d/18Xiej0gk5SNlgjJSRqRM3wADBmYGTEwZoBSlTCgDkomZwshIDBgovRGJIWFggleEyEfrdbb2u+45513nnu4a3bvXXuu/9j57fXQMSTpD4krgjVifBfET99oMKsAL8akH5CF2tAVPJ/6GeV2QWBttG5z7P4jrxcKGFsAfMNnrca3EuxaAucvRXuBY+9UyeKQsnQIcuhM4O6Ag9uBW4atTBn6L1XiCrQMC38RefMFYGfgqDuEHRgYEfo9lmErTMvAu3E/XMiDw78LPEVwuA4/hc7Exfsf1NJFZiGoYshavq2p1inAnHjShYh1eFj5mR9ZUgb9jLq7gcEPwUVzMP10V+Cm24A3WNAQ/wnbEA1sevqrAp3AaceWrGoJfYX6Rx/vqwJvwrCGw2zzy+HYdeE6Rx4NkL8DXOnDo08sex52GESRfU27qRp8YEGJQuIH9DcHTzOvAd7G7sGjSsY7jfE6uA+dDQZMDfyzq9F8fdeDYeAArcKGwuoQXNVGcwyI8R+y/hihIfYFj8ySWZHZRe6c9lkwX0GPZ/22Y6A50JifOX3eyX1wymYY+cj9qQJKTOPO/4NTEwz66VlxjmcQJH2fKnt1tpicOP5sRg2Dq01WfeSmiq0XuxzDxj/QDrnlP/amHBv4DYd5PLNKsYRAAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__65W55\"};"],"sourceRoot":""}